{"version":3,"file":"commonHelpers.js","sources":["../src/js/book-api.js","../src/js/categories.js","../src/js/modal.js","../src/js/scroll.js","../src/js/sign-up.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books/';\n\n// Перелік категорій книг:\nasync function serviceAllCategory() {\n  return await axios.get('category-list');\n}\n\n// Популярні книги, що належать до усіх категорій:\nasync function serviceTopBooks() {\n  return await axios.get('top-books');\n}\n\n// Книги окремої категорії:\nasync function serviceSelectedCategory(selectedCategory) {\n  return await axios.get(`category?category=${selectedCategory}`);\n}\n\n// Детальна інформація про книгу:\nasync function serviceSelectedBook(bookId) {\n  return await axios.get(`${bookId}`);\n}\n\nexport {\n  serviceAllCategory,\n  serviceTopBooks,\n  serviceSelectedCategory,\n  serviceSelectedBook,\n};\n","import { serviceAllCategory } from \"./book-api\";\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n    const getData = await serviceAllCategory();\n    const { data } = getData;\n    addList(data);\n  });\n  \nfunction addList(categories) {\n    const categoriesList = document.querySelector('.categories');\n    const markup = categories.map(category => {\n        const { list_name } = category;\n        return `\n        <li><a class='categories_item' href='#'>${list_name}</a></li>\n        `;\n      }).join('');\n    categoriesList.insertAdjacentHTML('beforeend', markup);\n    let categoriesArray = [...document.getElementsByClassName('categories_item')];\n    categoriesArray.forEach(e => e.addEventListener('click', () =>{\n        document.querySelector('.active_category').classList.remove('active_category');\n        e.classList.add('active_category');\n    }))\n}","!function(e){\"function\"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),\"function\"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype);\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    \n   let modalButtons = document.querySelectorAll('.js-open-modal'),\n       overlay      = document.querySelector('.js-overlay-modal'),\n       closeButtons = document.querySelectorAll('.js-modal-close');\n\n   modalButtons.forEach(function(item){\n\n      item.addEventListener('click', function(e) {\n         e.preventDefault();\n\n         /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal\n            и будем искать модальное окно с таким же атрибутом. */\n         let modalId = this.getAttribute('data-modal'),\n             modalElem = document.querySelector('.modal[data-modal=\"' + modalId + '\"]');\n\n         /* После того как нашли нужное модальное окно, добавим классы\n            подложке и окну чтобы показать их. */\n         modalElem.classList.add('active');\n         overlay.classList.add('active');\n      }); // end click\n\n   }); // end foreach\n\n   closeButtons.forEach(function(item){\n\n      item.addEventListener('click', function(e) {\n         let parentModal = this.closest('.modal');\n\n         parentModal.classList.remove('active');\n         overlay.classList.remove('active');\n      });\n\n   }); // end foreach\n\n    document.body.addEventListener('keyup', function (e) {\n        let key = e.keyCode;\n\n        if (key == 27) {\n\n            document.querySelector('.modal.active').classList.remove('active');\n            document.querySelector('.overlay').classList.remove('active');\n        };\n    }, false);\n\n    overlay.addEventListener('click', function() {\n        document.querySelector('.modal.active').classList.remove('active');\n        this.classList.remove('active');\n    });\n\n}); // end ready\n","(() => {\n  window.addEventListener('scroll', function () {\n    var button = document.getElementById('scroll-up');\n    if (button) {\n      button.style.visibility =\n        window.scrollY > window.innerHeight ? 'visible' : 'hidden';\n    }\n  });\n\n  document.querySelector('#scroll-up').addEventListener('click', scrollToTop);\n\n  function scrollToTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n})();","import { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\n\nconst app = initializeApp({\n  apiKey: 'AIzaSyDQugW-CaYBrWSvO2DN6FwPpw05I7D6tAM',\n  authDomain: 'bookshelf-b1d96.firebaseapp.com',\n  databaseURL:\n    'https://bookshelf-b1d96-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'bookshelf-b1d96',\n  storageBucket: 'bookshelf-b1d96.appspot.com',\n  messagingSenderId: '179300012730',\n  appId: '1:179300012730:web:aa4a508d0a2ffec4c3a883',\n  measurementId: 'G-4M8036172T',\n});\n\n// Initialize Firebase\nconst auth = getAuth(app);\n\nconst userName = document.querySelector('#name');\nconst userEmail = document.querySelector('#email');\nconst userPassword = document.querySelector('#password');\nconst authForm = document.querySelector('.sign-up-form');\nconst signUpButton = document.querySelector('.sign-up-btn');\nconst signInButton = document.querySelector('.sign-in-btn');\n// const logOutButton = document.querySelector('');\nconst headerSignUpBtn = document.querySelector('.sign-up-btn-text');\n// console.log(userName);\n// console.log(userEmail);\n// console.log(userPassword);\n// console.log(authForm);\n// console.log(signUpButton);\n// console.log(signInButton);\n// console.log(headerSignUpBtn);\n\nauthForm.addEventListener('submit', userSignUp);\nsignInButton.addEventListener('click', userSignIn);\n\nuserName.classList.remove('display-none');\nif (!userName.hasAttribute('required')) userName.setAttribute('required');\nsignUpButton.textContent = 'SIGN UP';\nsignInButton.textContent = 'SIGN IN';\n\nasync function userSignUp(evt) {\n  evt.preventDefault();\n  if (signUpButton.textContent === 'SIGN UP') {\n    const form = evt.target;\n    const signUpEmail = form.elements.email.value;\n    const signUpPassword = form.elements.password.value;\n\n    createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword)\n      .then(userData => {\n        const user = userData.user;\n        console.log(user);\n        alert('Your account has been created!');\n        form.reset();\n      })\n      .catch(error => {\n        console.log(error.code + error.message);\n        alert(\n          'This email address is already in use on Bookshelf. Please sign in!'\n        );\n        form.reset();\n      });\n  }\n\n  if (signUpButton.textContent === 'SIGN IN') {\n    userSignIn();\n  }\n}\n\nasync function userSignIn(evt) {\n  evt.preventDefault();\n  userName.removeAttribute('required');\n  userName.classList.add('display-none');\n  signUpButton.textContent = 'SIGN IN';\n  signInButton.textContent = 'SIGN UP';\n\n  const form = evt.target;\n  console.dir(form.elements);\n  const signInEmail = form.elements.email.value;\n  const signInPassword = form.elements.password.value;\n\n  signInWithEmailAndPassword(auth, signInEmail, signInPassword)\n    .then(userData => {\n      const user = userData.user;\n      alert('You have signed in successfully!');\n      form.reset();\n    })\n    .catch(error => {\n      console.log(error.code + error.message);\n      alert('The password is incorrect. Try again!');\n      form.reset();\n    });\n}\n"],"names":["axios","serviceAllCategory","getData","data","addList","categories","categoriesList","markup","category","list_name","e","t","o","n","modalButtons","overlay","closeButtons","item","modalId","button","scrollToTop","app","initializeApp","auth","getAuth","userName","authForm","signUpButton","signInButton","userSignUp","userSignIn","evt","form","signUpEmail","signUpPassword","createUserWithEmailAndPassword","userData","user","error","signInEmail","signInPassword","signInWithEmailAndPassword"],"mappings":"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"}