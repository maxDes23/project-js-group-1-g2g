{"version":3,"file":"shopping-list-f3accdf0.js","sources":["../../src/js/header.js","../../src/js/support.js","../../src/js/shopping-list.js"],"sourcesContent":["const themeSwitcher = document.querySelector('.switcher-block')\nconst switcher = document.querySelector('.switcher')\nconst navList = document.querySelector('.nav-list')\nconst basket = document.querySelector('.basket')\nconst home = document.querySelector('.home')\nconst basketIco = document.querySelector('.basket-ico')\nconst mobBasketIco = document.querySelector('.mob-basket-ico')\nconst mobileMenu = document.querySelector('.menu__body')\nconst burgerBtn = document.querySelector('.burger-menu')\nconst currentPage = window.location.href;\nconst mobBasket = document.querySelector('.mob-basket')\nconst mobHome = document.querySelector('.mob-home')\n\n\nfunction setActivePage(currentPage) {\n  if (currentPage.includes('shop-list')) {\n    home.classList.remove('nav-active');\n    mobHome.classList.remove('nav-active');\n      basket.classList.add('nav-active');\n      mobBasket.classList.add('nav-active');\n      basketIco.classList.add('nav-active')\n      mobBasketIco.classList.add('nav-active')\n  }\n  else {\n    home.classList.add('nav-active');\n    mobHome.classList.add('nav-active');\n    }\n}\nsetActivePage(currentPage);\n\n\nfunction onBurgerClick() {\n    setActivePage(currentPage)\n\n    mobileMenu.classList.toggle('menu-active');   \n}\n\nburgerBtn.addEventListener('click', onBurgerClick)\n\n\n\n\n\n\nthemeSwitcher.addEventListener('click', onTriggerClick)\n\n\nfunction onTriggerClick() {\n    toggleTheme();\n}\n\n// function to set a given theme/color-scheme\n    function setTheme(themeName) {\n        localStorage.setItem('theme', themeName);\n        document.documentElement.className = themeName;\n    }\n\n// function to toggle between light and dark theme\n    function toggleTheme() {\n        if (localStorage.getItem('theme') === 'theme-dark') {\n            switcher.style.left = 2 + \"px\";\n            setTheme('theme-light');\n        } else {\n            switcher.style.left = 19 + \"px\";\n            setTheme('theme-dark');\n        }\n    }\n\nif (localStorage.getItem('theme') === 'theme-dark') {\n    switcher.style.left = 19 + \"px\";\n    setTheme('theme-dark');\n}\nelse {\n    setTheme('theme-light');\n    }\n\n\n\n\n\n\n","import Splide from '@splidejs/splide';\nimport '@splidejs/splide/css';\n\nconst supOrgs = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: new URL('../img/support/savechld.png', import.meta.url).href,\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: new URL('../img/support/hope.png', import.meta.url).href,\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: new URL('../img/support/united.png', import.meta.url).href,\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: new URL('../img/support/medical.png', import.meta.url).href,\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: new URL('../img/support/msf.png', import.meta.url).href,\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: new URL('../img/support/razom.png', import.meta.url).href,\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: new URL('../img/support/aah.png', import.meta.url).href,\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: new URL('../img/support/vision.png', import.meta.url).href,\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: new URL('../img/support/prytula.png', import.meta.url).href,\n  },\n];\n\nsupOrgs.sort((a, b) =>\n  a.title === 'UNITED24' ? 1 : b.title === 'UNITED24' ? -1 : 0\n);\n\nconst supportList = document.querySelector('.splide__list');\nconsole.log(supportList);\n\nsupOrgs.forEach(supOrg => {\n  const li = `<li class=\"splide__slide\">\n    <a href=\"${supOrg.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n      <img src=\"${supOrg.img}\" alt=\"${supOrg.title}\" class=\"org-logo\">\n    </a>\n  </li>`;\n\n  supportList.insertAdjacentHTML('beforeend', li);\n});\n\nconst slider = new Splide('#sliderOne', {\n  perPage: 6,\n  gap: '20px',\n  pagination: false,\n  direction: 'ttb',\n  height: '292px',\n  dynamicSlides: true,\n  rewind: true,\n  label: 'Support to Ukraine',\n});\n\nslider.mount();\n\nconst arrow = document.querySelector('.splide__arrow.splide__arrow--next');\nconst rotateSvg = document.getElementById('rotate-svg');\nconst originalSvg = rotateSvg.innerHTML;\n\nlet isClick = false;\n\narrow.addEventListener('click', () => {\n  isClick = !isClick;\n\n  if (isClick) {\n    rotateSvg.innerHTML = `\n      <svg>\n          <use href=\"./img/icons.svg#icon-ar-down\"></use>\n        </svg>\n    `;\n  } else {\n    rotateSvg.innerHTML = originalSvg;\n  }\n});\n","const SHOPPING_LIST_STORAGE_KEY = 'storage-of-books';\nconst shoppingList = JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n\nconst divEl = document.querySelector('.shop_title_list');\nconst amazonIconPath = './img/modal/amazon.png';\nconst bookShopIconPath = './img/shopping/book.png';\nconst svgTrashIcon = './img/icons.svg';\n\n\nconst pageSize = 3;\nlet totalPages = Math.ceil(shoppingList.length / pageSize);\nlet currentPage = 1;\nlet startIndex = (currentPage - 1) * pageSize;\nlet endIndex = startIndex + pageSize;\nlet itemsOnPage = shoppingList.slice(startIndex, endIndex);\n\nfunction renderMarkUp(itemsOnPage) {\n    return itemsOnPage\n        .map(\n            ({\n                _id,\n                title,\n                author,\n                description,\n                list_name,\n                book_image,\n                amazon_product_url,\n                buy_links: [bookshop],\n            }) => {\n                return `\n                <article class=\"shop_card\">\n                    <div class=\"card-img\">\n                        <img class=\"shop__card-img\" src=\"${book_image}\" alt=\"${title}\" />\n                    </div>\n\n                    <div class=\"card-title\">\n                        <h3 class=\"shop__book-title\">${title}</h3>\n                        <p class=\"shop__book-category\">${list_name}</p>\n                    </div>\n\n                    <div class=\"card-description\">\n                        <p class=\"shop__book-description\">${description}</p>\n                    </div>\n\n                    <div class=\"card-author\">\n                        <p class=\"shop__book-author\">${author}</p>\n                    </div>\n\n                    <div class=\"card-shoplist\">\n                        <ul class=\"shop__book-shoplist\">\n                            <li class=\"store\">\n                                <a href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n                                    <img class=\"modal-shop-img shopping-shopimg amazon\" src=\"${amazonIconPath}\" alt=\"Amazon link\" alt=\"Amazon live page\"/>\n                                </a>\n                            </li>\n                            <li class=\"store\">\n                                <a href=\"${bookshop.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"BookShop link\">\n                                    <img class=\"modal-shop-img shopping-shopimg book-shop\" src=\"${bookShopIconPath}\" alt=\"BookShop link\" />\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class=\"shop_card-btn\" type=\"button\" data-book-id=\"${_id}\" aria-label=\"Remove book from shopping list\">\n                        <svg class=\"trash-icon\" data-book-id=\"${_id}\" width=\"17\" height=\"17\">\n                            <use href=\"${svgTrashIcon}#trash-icon\"></use>\n                        </svg>\n                    </button>\n                </article>\n                `;\n            }\n        )\n        .join('');\n}\n\nfunction isEmpty() {\n    if (!shoppingList.length) {\n        divEl.innerHTML = '<div class=\"\"><p class=\"no__info\">This page is empty, add some books and proceed to order.</p><img class=\"no__picture\" src=\"../img/shopping/books-desk.png\" alt=\"Shop is Empty\"></div >';\n        return;\n    }\n    divEl.insertAdjacentHTML('beforeend', renderMarkUp(itemsOnPage));\n}\n\nisEmpty();\n\ndivEl.addEventListener('click', event => {\n    if (event.target.closest('.shop_card-btn')) {\n        const BookID = event.target.getAttribute('data-book-id');\n\n        const bookIndex = shoppingList.findIndex(\n            bookInStorage => bookInStorage._id === BookID\n        );\n\n        shoppingList.splice(bookIndex, 1);\n\n        localStorage.setItem(\n            SHOPPING_LIST_STORAGE_KEY,\n            JSON.stringify(shoppingList)\n        );\n\n        if (!shoppingList.length) {\n            divEl.innerHTML = '<div class=\"\"><p class=\"no__info\">This page is empty, add some books and proceed to order.</p><img class=\"no__picture\" src=\"../img/shopping/books-desk.png\" alt=\"Shop is Empty\"></div >';\n            return;\n        } else if (!sliceArrayBooks().length) {\n            previousButton.click();\n            destroyChildElement(paginationContainerPages);\n        } else {\n            divEl.innerHTML = renderMarkUp(sliceArrayBooks());\n            console.log(sliceArrayBooks());\n            destroyChildElement(paginationContainerPages);\n        }\n        checkingArrayBooks();\n    }\n});\n\n"],"names":["themeSwitcher","switcher","basket","home","basketIco","mobBasketIco","mobileMenu","burgerBtn","currentPage","mobBasket","mobHome","setActivePage","onBurgerClick","onTriggerClick","toggleTheme","setTheme","themeName","supOrgs","a","b","supportList","supOrg","li","slider","Splide","arrow","rotateSvg","originalSvg","isClick","SHOPPING_LIST_STORAGE_KEY","shoppingList","divEl","amazonIconPath","bookShopIconPath","svgTrashIcon","pageSize","startIndex","endIndex","itemsOnPage","renderMarkUp","_id","title","author","description","list_name","book_image","amazon_product_url","bookshop","isEmpty","event","BookID","bookIndex","bookInStorage"],"mappings":"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"}