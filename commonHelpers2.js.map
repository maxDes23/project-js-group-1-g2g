{"version":3,"file":"commonHelpers2.js","sources":["../src/img/shopping/amazon.png","../src/js/shop-refs.js","../src/js/shop-icons-path.js","../src/js/shopping-list.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAUCAYAAADV9o4UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAczSURBVHgBxVdpbFRVFD73vjelrR2g2IalMDMdGoQiIGAVERARxUCiAgImGsSwSsCCQGJUwtLwwx8CwbAGfiBKihg0MUFEFo0IKEsBg9I6zNaWtLSshXbs9L3rd9/cGV5Km1Q6xNNM73L2c8859z5GNnC5XPm6EM9hmkpClJq6fjwYDN6M43v16tW7QzTagTN2tSkSiZLTWWByrgN1UtJlZWU5M9LShgvOQcJO2HmV/EydseGCqB8zzesgK/GFQiVxvOR3pqbmQjej5pCSUhUIBKrjSw+ADGMQaVoEy/PQVWXDddYjkR4RXY9WVFT8nedy9TeI8k3GoC6mz1Lgyc7upqWlbYVB44kx3abOxx2O13w+30W58Ho8VTCqK6Y7hBAFcG6gRSXEHwZjM8D4hXRK8QZ4U9MoX2VlhVz0drsnArcD00ybfAEZGy4Hg4vl3OtyvQD9h6gFQCQ/8QWDHwwdOtRxvbZ2LQyfI8Oh0NXgW+UPBjdbdrpchVivtzCmOZ84X4dZB2Xran84vILLOZwuggWvwDCO37fY2qcE5onGxjU2/fGTeDnhtLXLBmhEu21OS8gVuj7PEpKT0xO4jdJpjAEEbRvmlZIT80IE5Rll1C38v2n7RePCDCHq5Hjj2rWlMGKBcvow5P2FsSvkfOr1egtUNFPuRYwvTzgds3UxMqKbdJwhBZ4Ao4x+cSAUmugPhSZD4ElLCOdDqDkI0QGRLECqTUhsEWUjncYANzK2RLCJ+lujpvUV0mkhTCgZEwiH52K7MM5rmuZwOfrLy09Dd6b8RU3zSdAbiiRQH4msHz16tA75heoEfgbdWM3hGIxlLdZpwjAK7zdVnGKRiAzMQbXlxM9yXMDZAhiTmpmVNaNLly4d8+QJCKEpTr25MATod8vIioofsGxShpSgfo4ijY6BoFbxWhmCvUPQkXanoaETajEkewVoXLZTSbHLn4IkdHD+FfSkyjW8n1VdXX0XNS6zrKty6KgcUYb/YP6b0jfRCo4KvGWXEEWXq6uvMs6LbcFISziV63bPuVFb+05np3OIGXOOWgNTpZ1lkxAREGdA2B17mFWEEga43e5+iOSSjh7PVKCdJESr8s94PEuBtzINGbItFAweseIjRH+K2yXE7YRzjFWrMf1KaWlnNMKELIPzSgtH1GDTyKwa97rdm4D4DFOpbDcMmwqiktYMYzaHRLzubXvNoyY7MJw+gOlMBK0Suf0+xhUtye7ds2eeMM3lank5xTBWJXTFs7AZ2EqCjPR03pqtduC4YrzSIGtlmvtQN28i7feCoYbaCUylHDfNtzFYqa03Nk5CmazTGDvWEgsa4tfQ/YjFx9is0vLyK3GkrmnB+ByCH0kwMea09mJ96ha1ATiMyiZ1LYDJunpwQKmQMUDRZKi6eXBgLC8+ref8qjKyIIEmypFjb5drFhCD4vvIiu/R8SuQkdtzcnL6kK6fBT7WUzRtlBzl9YYgjFByjsmab4NFCKrDIa8N0zKGsSm5Ltd05FMxhHRXNM6w319E7YNEPTp0vQg6FsprJYFlbHI/t7s79D/djC9VxIIyM0XXt8Kp26DdabEI8Tz60sc3amo2wNaecg+PqU3URtDRKctgiEztaVh3x7gTpxGBwjWI7iJpNNP1w9QOQFPahCvzLUw7ogDflQ0Kxh6Hnm8wn4fxRANjDTx2C5yWjxhccZfwsmvEug/w45iqb1yvH6Ekn8W0L4iL4s0O9q7FjbGnrTZZrR935nyd8yNMprem1SPFiuXTDp34LGtq8qPmzyn6lcBlo/bOJJwi+hCPi87gPWeTu8JO5wuHL+b26PEUAjgDTmSgwM5Dz97MzMx6vMJO444ultdVfn7+snpAYEawibKoE3VBfMpoD1tJq1F+j0lZ8tmanZ1dkJGe/gZcHga9Bpz+Djbup/g1xvlB0zDScYgmgmH1KjyRL6ADWg3VMM0Qa0t08M4aC5HH2Vyqp4cIYjN5EMn34O5s6MtQ27dIowlsFv1KSQTeJqpGCsOQU2ILFYp7z9bkA0etmvQLfhPwGwFNy7DbieT5Jxna7ITYQV68nA+AIwUGboFhu5EBYUoyiJ30KEVIvvHL8Dzy47RR8/Q4m0MXKYnwn05PbEX0UdP4yZOQaf8TJHyObDjZniAgqE6c6iTIGg9Zr5L88GA0DXP58bICsr2UZHigtBUb8RWmk/zCGmHb9pH8sGH0Jwy+AEf8cCfMptPdBN9RcJVRD+DzkTWDMXrxGwaeviQbraA6/JbgI3MXGloEgf4RdLvYbAQ3ydCuehWbaCQMWwQpL1Lsq6clkM/JKBzSQKe3oFPg7xLkbEcv2ckW0DVr80t8t9fhuppLC3FjCUoyJKVR4WSyIOl11P04jANhpks52QKxpVW+3iow3w+HD6kbI3ofqbBe/Ul3mughdGgxBSf7EhyP4vORoSfouI0NcmC3Hi5cQXBqsKpiM6mO/kf4F4Y3H0LroQDqAAAAAElFTkSuQmCC\"","export default function () {\n    return {\n        // Shopping list\n    divEl: document.querySelector('.filled-basket'),\n    addBtnEL: document.querySelector('.shop_card-btn'),\n       // Paginations\n    }\n}","export default function () {\n    return {\n      // Online stores icons\n    \n      bookShopIconPath: new URL('../img/modal/book.png', import.meta.url).href,\n  \n      amazonIconPath: new URL('../img/modal/amazon.png', import.meta.url).href,\n  \n       // Empty list image\n      emptyListImage: new URL('../img/shopping/books-desk@1x.png', import.meta.url).href,\n  \n      // SVG\n      svgTrashIcon: new URL('../img/icons.svg', import.meta.url),\n    };\n  }","import amazonImg from \"../img/shopping/amazon.png\"\nimport icons from \"../img/icons.svg\"\nimport getRefs from './shop-refs.js';\nimport getShopIconsPaths from './shop-icons-path.js';\n// import { storedBooksArray } from \"./modal.js\";\n\n\nconst SHOPPING_LIST_STORAGE_KEY = 'books';\nlet storedBooksArray = JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || []\nconst blankBasket = document.querySelector('.blank-basket')\n\nconst { divEl, \n    previousButton, \n    paginationPagesStart,  \n  } = getRefs(); {\n\n}\nconst {\n    bookShopIconPath,\n    amazonIconPath,\n    // svgTrashIcon,\n  } = getShopIconsPaths();\n\nconst pageSize = 6;\nlet currentPage = 1;\nlet startIndex = (currentPage - 1) * pageSize;\nlet endIndex = startIndex + pageSize;\nlet itemsOnPage = storedBooksArray.slice(startIndex, endIndex);\n\nfunction renderMarkUp(storageArr) {\n\n    divEl.innerHTML = storageArr.map(\n            ({\n                id,\n                title,\n                author,\n                description,\n                list_name,\n                book_image,\n                amazon_product_url\n            }) => {\n                return `\n                <article class=\"shop_card\">\n                    <div class=\"card-img\">\n                        <img class=\"shop__card-img\" src=\"${book_image}\" alt=\"${title}\" />\n                    </div>\n\n                    <div class=\"card-title\">\n                        <h3 class=\"shop__book-title\">${title}</h3>\n                        <p class=\"shop__book-category\">${list_name}</p>\n                    </div>\n\n                    <div class=\"card-description\">\n                        <p class=\"shop__book-description\">${description}</p>\n                    </div>\n\n                    <div class=\"card-author\">\n                        <p class=\"shop__book-author\">${author}</p>\n                    </div>\n\n                    <div class=\"card-shoplist\">\n                        <ul class=\"shop__book-shoplist\">\n                            <li class=\"store\">\n                                <a href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n                                    <img class=\"amazon\" src=\"${amazonImg}\" alt=\"Amazon link\" alt=\"Amazon live page\"/>\n                                </a>\n                            </li>\n                            <li class=\"store\">\n                                <a href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"BookShop link\">\n                                    <img class=\"book-shop\" src=\"${bookShopIconPath}\" alt=\"BookShop link\" />\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class=\"delete-btn\" type=\"button\" data-book-id=\"${id}\" aria-label=\"Remove book from shopping list\">\n                        <svg class=\"trash-icon\" data-book-id=\"${id}\" width=\"18\" height=\"18\">\n                            <use class=\"t-ico\" data-book-id=\"${id}\" href=\"${icons}#trash-icon\"></use>\n                        </svg>\n                    </button>\n                </article>\n                `;\n            }\n        )\n        .join('');\n}\n\nfunction isEmpty() {\n    if (!storedBooksArray.length) {\n        divEl.innerHTML = ''\n        return blankBasket.classList.remove('display-none');\n    }\n   return renderMarkUp(storedBooksArray)\n}\n\nisEmpty();\n\n// function sliceArrayBooks() {\n//     startIndex = (currentPage - 1) * pageSize;\n//     endIndex = startIndex + pageSize;\n//     itemsOnPage = storedBooksArray.slice(startIndex, endIndex);\n//     return itemsOnPage;\n// }\n\n// function destroyChildElement(parent) {\n//     if (parent) {\n//         while (parent.firstChild) {\n//             parent.removeChild(parent.firstChild);\n//         }\n//     }\n// }\n\ndivEl.addEventListener('click', onDivElClick)\n\nfunction onDivElClick(event) {\n    \n    if (event.target.closest('.delete-btn')\n        || event.target.closest('.trash-icon')\n        || event.target.closest('.t-ico') ) {\n        storedBooksArray = storedBooksArray.filter(book => book.id != event.target.getAttribute('data-book-id'))\n        localStorage.setItem('books', JSON.stringify(storedBooksArray));\n    }\n    isEmpty()\n}\n\n\n//         if (!storedBooksArray.length) {\n//             divEl.innerHTML = ``;\n//             return isEmpty();\n//         } else if (!sliceArrayBooks().length) {\n//             previousButton.click();\n//             destroyChildElement(paginationPagesStart);\n//         } else {\n//             divEl.innerHTML = renderMarkUp(sliceArrayBooks());\n//             destroyChildElement(paginationPagesStart);\n//         }\n\n\n\n// Add a function to check if the book is already in the shopping list\n// function isBookInShoppingList(bookId) {\n//     return storedBooksArray.some(book => book.id === bookId);\n// }\n\n// Add an event listener to the document to listen for the 'add-to-cart' event\n// document.addEventListener('add-to-cart', event => {\n//     const book = event.detail.book;\n//     if (!isBookInShoppingList(book.id)) {\n//         storedBooksArray.push(book);\n//         localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(storedBooksArray));\n//     }\n// });\n\n\n"],"names":["amazonImg","getRefs","getShopIconsPaths","SHOPPING_LIST_STORAGE_KEY","storedBooksArray","blankBasket","divEl","previousButton","paginationPagesStart","bookShopIconPath","amazonIconPath","pageSize","currentPage","startIndex","endIndex","renderMarkUp","storageArr","id","title","author","description","list_name","book_image","amazon_product_url","icons","isEmpty","onDivElClick","event","book"],"mappings":"qFAAA,MAAeA,EAAA,ikFCAA,SAAAC,GAAY,CACvB,MAAO,CAEP,MAAO,SAAS,cAAc,gBAAgB,EAC9C,SAAU,SAAS,cAAc,gBAAgB,CAEhD,CACL,CCPe,SAAAC,GAAY,CACvB,MAAO,CAGL,iBAAkB,IAAA,IAAA,izDAAA,KAAA,QAAA,EAAkD,KAEpE,eAAgB,IAAmD,IAAA,qmFAAA,KAAA,QAAA,EAAC,KAGpE,eAAgB,IAA6D,IAAA,4DAAA,KAAA,QAAA,EAAC,KAG9E,aAAc,0EACpB,CACA,CCPA,MAAMC,EAA4B,QAClC,IAAIC,EAAmB,KAAK,MAAM,aAAa,QAAQD,CAAyB,CAAC,GAAK,CAAE,EACxF,MAAME,EAAc,SAAS,cAAc,eAAe,EAEpD,CAAE,MAAAC,EACJ,eAAAC,EACA,qBAAAC,CACJ,EAAMP,EAAS,EAGT,CACF,iBAAAQ,EACA,eAAAC,CAED,EAAGR,EAAiB,EAEjBS,EAAW,EACjB,IAAIC,EAAc,EACdC,GAAcD,EAAc,GAAKD,EACjCG,EAAWD,EAAaF,EACVP,EAAiB,MAAMS,EAAYC,CAAQ,EAE7D,SAASC,EAAaC,EAAY,CAE9BV,EAAM,UAAYU,EAAW,IACrB,CAAC,CACG,GAAAC,EACA,MAAAC,EACA,OAAAC,EACA,YAAAC,EACA,UAAAC,EACA,WAAAC,EACA,mBAAAC,CAChB,IACuB;AAAA;AAAA;AAAA,2DAGoCD,WAAoBJ;AAAA;AAAA;AAAA;AAAA,uDAIxBA;AAAA,yDACEG;AAAA;AAAA;AAAA;AAAA,4DAIGD;AAAA;AAAA;AAAA;AAAA,uDAILD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMZI;AAAA,+DACoBvB;AAAA;AAAA;AAAA;AAAA,2CAIpBuB;AAAA,kEACuBd;AAAA;AAAA;AAAA;AAAA;AAAA,6EAKWQ;AAAA,gEACbA;AAAA,+DACDA,YAAaO;AAAA;AAAA;AAAA;AAAA,iBAMnE,EACA,KAAK,EAAE,CAChB,CAEA,SAASC,GAAU,CACf,OAAKrB,EAAiB,OAIhBW,EAAaX,CAAgB,GAH/BE,EAAM,UAAY,GACXD,EAAY,UAAU,OAAO,cAAc,EAG1D,CAEAoB,IAiBAnB,EAAM,iBAAiB,QAASoB,CAAY,EAE5C,SAASA,EAAaC,EAAO,EAErBA,EAAM,OAAO,QAAQ,aAAa,GAC/BA,EAAM,OAAO,QAAQ,aAAa,GAClCA,EAAM,OAAO,QAAQ,QAAQ,KAChCvB,EAAmBA,EAAiB,OAAOwB,GAAQA,EAAK,IAAMD,EAAM,OAAO,aAAa,cAAc,CAAC,EACvG,aAAa,QAAQ,QAAS,KAAK,UAAUvB,CAAgB,CAAC,GAElEqB,EAAS,CACb"}